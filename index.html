<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Trésor Éthéré — Parfumerie</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;500;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --pink:#ff6fa3;
      --orange:#ff8a3d;
      --bg:#fff6fb;
      --muted:#6b6b6b;
      --card:#ffffff;
      --glass: rgba(255,255,255,0.75);
      --radius:16px;
      font-family: 'Montserrat', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
    }
    *{box-sizing:border-box}
    body{margin:0;background:linear-gradient(180deg,var(--bg),#fff);color:#222;min-height:100vh}
    header{display:flex;align-items:center;justify-content:space-between;padding:14px 18px;background:linear-gradient(90deg,var(--pink),var(--orange));color:white;position:sticky;top:0;z-index:60;box-shadow:0 6px 18px rgba(0,0,0,0.08)}
    .brand{display:flex;gap:12px;align-items:center}
    .logo{width:48px;height:48px;border-radius:12px;background:linear-gradient(135deg,var(--orange),var(--pink));display:flex;align-items:center;justify-content:center;font-weight:700;color:white;font-size:20px}
    nav{display:flex;gap:12px;align-items:center}
    nav a{color:rgba(255,255,255,0.95);text-decoration:none;padding:8px 12px;border-radius:10px;font-weight:500}
    nav a.active, nav a:hover{background:rgba(255,255,255,0.14)}
    .cta{display:flex;gap:10px;align-items:center}
    .btn{background:white;color:var(--pink);padding:8px 14px;border-radius:999px;font-weight:700;border:none;cursor:pointer;transition:transform .12s}
    .btn:hover{transform:translateY(-2px)}

    /* Hamburger */
    .hamburger{display:none;width:42px;height:42px;border-radius:10px;background:rgba(255,255,255,0.12);align-items:center;justify-content:center;cursor:pointer}
    .hamburger span{display:block;width:20px;height:2px;background:white;border-radius:2px;position:relative}
    .hamburger span::after,.hamburger span::before{content:'';position:absolute;width:20px;height:2px;background:white;border-radius:2px}
    .hamburger span::before{top:-6px}
    .hamburger span::after{top:6px}

    /* Hero */
    .hero{display:grid;grid-template-columns:1fr 420px;gap:28px;padding:36px 22px;align-items:center}
    .hero-left{max-width:760px}
    h1{font-size:36px;margin:0 0 10px}
    p.lead{margin:0 0 16px;color:var(--muted)}
    .search{display:flex;gap:8px}
    .search input{flex:1;padding:12px;border-radius:12px;border:none;box-shadow:0 6px 18px rgba(0,0,0,0.06)}
    .search button{padding:12px 16px;border-radius:12px;border:none;background:linear-gradient(90deg,var(--orange),var(--pink));color:white;font-weight:700;cursor:pointer}

    .hero-right{background:linear-gradient(180deg,rgba(255,255,255,0.06),rgba(255,255,255,0.02));border-radius:18px;padding:18px;backdrop-filter: blur(4px);box-shadow:0 10px 30px rgba(255,138,61,0.08)}
    .feature{background:var(--card);padding:14px;border-radius:12px;box-shadow:0 6px 18px rgba(0,0,0,0.04)}
    .feature h3{margin:0 0 6px}
    .feature p{margin:0;color:var(--muted);font-size:14px}

    /* Products */
    .container{padding:22px}
    .section-title{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:18px}
    .card{background:var(--card);border-radius:14px;padding:12px;box-shadow:0 10px 20px rgba(0,0,0,0.05);display:flex;flex-direction:column;gap:12px;transition:transform .12s}
    .card:focus-within, .card:hover{transform:translateY(-6px)}
    .thumb{height:180px;border-radius:10px;background:linear-gradient(135deg,var(--pink),var(--orange));display:flex;align-items:flex-end;padding:12px;color:white;font-weight:700;background-size:cover;background-position:center}
    .price{font-weight:700;color:var(--orange)}
    .card button{border:none;background:linear-gradient(90deg,var(--orange),var(--pink));color:white;padding:8px 12px;border-radius:10px;cursor:pointer}

    /* About & Contact */
    .about, .contact{display:grid;grid-template-columns:1fr 360px;gap:22px;margin-top:24px}
    .about p, .contact p{color:var(--muted)}
    form.contact-form{display:flex;flex-direction:column;gap:10px;background:var(--card);padding:16px;border-radius:12px;box-shadow:0 10px 20px rgba(0,0,0,0.04)}
    form.contact-form input, form.contact-form textarea{padding:10px;border-radius:8px;border:1px solid #eee}
    form.contact-form button{padding:10px;border-radius:8px;border:none;background:linear-gradient(90deg,var(--pink),var(--orange));color:white;font-weight:700;cursor:pointer}

    /* Modal */
    .modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,0.45);display:flex;align-items:center;justify-content:center;z-index:100;visibility:hidden;opacity:0;transition:all .18s}
    .modal-backdrop.visible{visibility:visible;opacity:1}
    .modal{background:var(--card);padding:18px;border-radius:12px;width:min(720px,94%);box-shadow:0 20px 50px rgba(0,0,0,0.25)}
    .modal h3{margin:0 0 8px}
    .cart-list{max-height:320px;overflow:auto;margin:12px 0}
    .cart-item{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px dashed #eee}

    footer{padding:20px;text-align:center;color:var(--muted);font-size:14px;margin-top:22px}

    @media (max-width:880px){
      .hero{grid-template-columns:1fr;}
      .about, .contact{grid-template-columns:1fr}
      nav{display:none}
      .hamburger{display:flex}
      .mobile-nav{position:fixed;right:12px;top:68px;background:white;padding:10px;border-radius:10px;box-shadow:0 12px 30px rgba(0,0,0,0.12);display:none;flex-direction:column;gap:6px;z-index:70}
      .mobile-nav.show{display:flex}
    }
  </style>
</head>
<body>
  <header>
    <div class="brand" aria-hidden="false">
      <div class="logo" aria-hidden="true">TE</div>
      <div>
        <div style="font-weight:700">Trésor Éthéré</div>
        <div style="font-size:12px;opacity:.95">Parfumerie & Collections</div>
      </div>
    </div>

    <nav id="main-nav" role="navigation" aria-label="Navigation principale">
      <a href="#acceuil" class="active" data-tab="acceuil">Accueil</a>
      <a href="#decouvrir" data-tab="decouvrir">Découvrir</a>
      <a href="#apropos" data-tab="apropos">À propos</a>
      <a href="#contact" data-tab="contact">Contact</a>
    </nav>

    <div class="cta">
      <button class="btn" id="view-cart" aria-haspopup="dialog" aria-controls="cart-modal">Panier (0)</button>
      <button class="hamburger" id="hambtn" aria-label="Ouvrir le menu">
        <span></span>
      </button>
    </div>

    <!-- mobile nav -->
    <div class="mobile-nav" id="mobile-nav" aria-hidden="true">
      <a href="#acceuil" data-tab="acceuil">Accueil</a>
      <a href="#decouvrir" data-tab="decouvrir">Découvrir</a>
      <a href="#apropos" data-tab="apropos">À propos</a>
      <a href="#contact" data-tab="contact">Contact</a>
    </div>
  </header>

  <main>
    <section class="hero container" id="acceuil">
      <div class="hero-left">
        <h1>Parfums uniques, émotions durables</h1>
        <p class="lead">Découvre notre sélection de fragrances artisanales — créées pour évoquer des souvenirs, des moments, des personnalités. Livraison disponible dans tout le pays.</p>

        <div class="search" style="margin-bottom:18px">
          <input type="search" id="search" placeholder="Rechercher un parfum, une collection..." aria-label="Recherche de parfum">
          <button id="search-btn">Rechercher</button>
        </div>

        <div style="display:flex;gap:10px;flex-wrap:wrap">
          <div class="feature" style="flex:1">
            <h3>Livraison rapide</h3>
            <p>Livraison 48-72h selon la zone.</p>
          </div>
          <div class="feature" style="flex:1">
            <h3>Produits artisanaux</h3>
            <p>Compositions pensées et imaginées par nos parfumeurs.</p>
          </div>
        </div>
      </div>

      <aside class="hero-right" aria-hidden="false">
        <div style="display:flex;flex-direction:column;gap:12px">
          <div style="display:flex;gap:12px;align-items:center">
            <div style="width:64px;height:64px;border-radius:12px;background:linear-gradient(135deg,var(--pink),var(--orange));display:flex;align-items:center;justify-content:center;color:white;font-weight:700">NEW</div>
            <div>
              <div style="font-weight:700">Édition limitée</div>
              <div style="color:var(--muted);font-size:13px">Un sillage floral & boisé</div>
            </div>
          </div>

          <div class="feature">
            <h3>Choisis ton coffret</h3>
            <p>Compose ton propre coffret cadeau — emballage élégant, papier doré et ruban.</p>
          </div>

          <div style="display:flex;gap:8px;justify-content:space-between;align-items:center">
            <div style="font-size:14px;color:var(--muted)">Service client : +241 0X XX XX XX</div>
            <button class="btn" onclick="scrollToSection('decouvrir')">Découvrir</button>
          </div>
        </div>
      </aside>
    </section>

    <section class="container" id="decouvrir">
      <div class="section-title">
        <h2>Nos parfums</h2>
        <div style="color:var(--muted);font-size:14px">Sélection créée pour toi</div>
      </div>

      <div class="grid" id="products" aria-live="polite">
        <!-- Cards générées par JS -->
      </div>
    </section>

    <section class="container" id="apropos">
      <div class="about">
        <div>
          <h2>À propos de Trésor Éthéré</h2>
          <p>Trésor Éthéré est une maison de parfum qui mêle tradition et modernité. Nous travaillons avec des essences précieuses pour créer des compositions qui racontent une histoire. Chaque flacon est pensé comme un petit trésor — pour toi ou à offrir.</p>

          <p style="margin-top:12px">Nos engagements : qualité, transparence sur les ingrédients, packaging responsable et un service client attentionné.</p>
        </div>

        <div>
          <div class="feature">
            <h3>Visite notre boutique</h3>
            <p>Retrouve-nous du lundi au samedi, de 9h à 19h.</p>
          </div>

          <div class="feature" style="margin-top:12px">
            <h3>Programme fidélité</h3>
            <p>Accumule des points à chaque achat et repars avec des avantages exclusifs.</p>
          </div>
        </div>
      </div>
    </section>

    <section class="container" id="contact">
      <div class="contact">
        <div>
          <h2>Contacte-nous</h2>
          <p>Une question ? Un conseil parfum ? Écris-nous, nous répondons sous 48h ouvrées.</p>

          <div style="margin-top:12px">
            <strong>Adresse :</strong> 12 Rue des Fleurs, Libreville<br>
            <strong>Téléphone :</strong> +241 0X XX XX XX<br>
            <strong>Email :</strong> contact@tresorethere.com
          </div>
        </div>

        <div>
          <form class="contact-form" id="contact-form" novalidate>
            <input type="text" id="name" placeholder="Ton nom" required>
            <input type="email" id="email" placeholder="Ton email" required>
            <textarea id="message" rows="5" placeholder="Ton message" required></textarea>
            <button type="submit">Envoyer</button>
          </form>
        </div>
      </div>
    </section>

  </main>

  <footer>
    © <span id="year"></span> Trésor Éthéré — Parfumerie. Tous droits réservés.
  </footer>

  <!-- Modal Panier -->
  <div class="modal-backdrop" id="cart-modal" role="dialog" aria-modal="true" aria-labelledby="cart-title">
    <div class="modal" id="cart-content">
      <h3 id="cart-title">Ton panier</h3>
      <div id="cart-items" class="cart-list" aria-live="polite"></div>
      <div style="display:flex;justify-content:space-between;align-items:center;margin-top:12px">
        <div style="font-weight:700">Total : <span id="cart-total">0.00 €</span></div>
        <div style="display:flex;gap:8px">
          <button class="btn" id="checkout-btn">Procéder</button>
          <button id="close-cart" style="padding:8px 12px;border-radius:10px;border:none;background:#eee;cursor:pointer">Fermer</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal de commande -->
  <div class="modal-backdrop" id="order-modal" role="dialog" aria-modal="true" aria-labelledby="order-title">
    <div class="modal" id="order-content">
      <h3 id="order-title">Commander</h3>
      <p id="order-desc" style="color:var(--muted)"></p>
      <form id="order-form" style="display:flex;flex-direction:column;gap:10px;margin-top:12px" novalidate>
        <input type="text" id="prod-name" readonly aria-readonly="true">
        <input type="text" id="cust-name" placeholder="Ton nom" required>
        <input type="tel" id="cust-phone" placeholder="Téléphone (ex: +241...)" required>
        <input type="text" id="cust-address" placeholder="Adresse de livraison" required>
        <div style="display:flex;gap:8px;align-items:center">
          <button type="submit" class="btn">Confirmer la commande</button>
          <button type="button" id="order-cancel" style="padding:8px 12px;border-radius:10px;border:none;background:#eee;cursor:pointer">Annuler</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    /***********************
     * Données & état
     ***********************/
    const PRODUCTS = [
      {id:1,name:'Aurora - Floral Ambré',desc:'Sillage floral mêlé de notes ambrées et vanillées.',price:29.99,img:''},
      {id:2,name:'Noir Onyx - Boisé Épicé',desc:"Accord boisé profond avec un coeur d'épices.",price:34.50,img:''},
      {id:3,name:'Matin Rose - Fruité & Frais',desc:"Une fraîcheur pétillante de fruits rouges et de rose.",price:24.00,img:''},
      {id:4,name:'Coffret Éclat (3x30ml)',desc:'Sélection découverte — parfait pour offrir.',price:59.99,img:''}
    ];

    const productsEl = document.getElementById('products');
    const cartBtn = document.getElementById('view-cart');
    const orderModal = document.getElementById('order-modal');
    const orderContent = document.getElementById('order-content');
    const orderForm = document.getElementById('order-form');
    const prodNameInput = document.getElementById('prod-name');
    const modalDesc = document.getElementById('order-desc');
    const searchInput = document.getElementById('search');
    const yearEl = document.getElementById('year');

    const cartModal = document.getElementById('cart-modal');
    const cartItemsEl = document.getElementById('cart-items');
    const cartTotalEl = document.getElementById('cart-total');
    const checkoutBtn = document.getElementById('checkout-btn');

    const mobileNavBtn = document.getElementById('hambtn');
    const mobileNav = document.getElementById('mobile-nav');

    let cart = JSON.parse(localStorage.getItem('te_cart') || '[]');

    yearEl.textContent = new Date().getFullYear();

    /***********************
     * Utils
     ***********************/
    function formatPrice(n){ return Number(n).toFixed(2) + ' €'; }
    function saveCart(){ localStorage.setItem('te_cart', JSON.stringify(cart)); updateCartUI(); }
    function addToCart(product){ cart.push(product); saveCart(); toast(`${product.name} ajouté au panier`); }
    function removeFromCart(index){ cart.splice(index,1); saveCart(); }

    function toast(msg, time=2000){
      const el = document.createElement('div');
      el.textContent = msg;
      el.style.position = 'fixed';
      el.style.right = '20px';
      el.style.bottom = '20px';
      el.style.background = 'rgba(0,0,0,0.8)';
      el.style.color = 'white';
      el.style.padding = '10px 14px';
      el.style.borderRadius = '8px';
      el.style.zIndex = 200;
      el.style.opacity = '0';
      el.style.transition = 'opacity .2s';
      document.body.appendChild(el);
      requestAnimationFrame(()=> el.style.opacity = '1');
      setTimeout(()=> el.style.opacity = '0', time);
      setTimeout(()=> el.remove(), time + 200);
    }

    /***********************
     * Rendu produits
     ***********************/
    function renderProducts(list){
      productsEl.innerHTML = '';
      list.forEach(p=>{
        const card = document.createElement('article');
        card.className = 'card';
        // Utilize background image if provided, otherwise gradient
        const thumbStyle = p.img ? `background-image:url('${p.img}');` : '';
        card.innerHTML = `
          <div class="thumb" style="${thumbStyle}">${!p.img? p.name : ''}</div>
          <div style="flex:1">
            <div style="font-weight:700">${p.name}</div>
            <div style="color:var(--muted);font-size:13px;margin:8px 0">${p.desc}</div>
            <div style="display:flex;justify-content:space-between;align-items:center">
              <div class="price">${formatPrice(p.price)}</div>
              <div style="display:flex;gap:8px">
                <button data-id="${p.id}" class="btn order-btn">Commander</button>
                <button data-add="${p.id}" style="padding:8px 12px;border-radius:10px;border:none;background:#eee;cursor:pointer">+ Panier</button>
              </div>
            </div>
          </div>
        `;
        productsEl.appendChild(card);
      });

      // event delegation for generated buttons
      document.querySelectorAll('.order-btn').forEach(b=> b.addEventListener('click', (e)=> {
        const id = Number(e.currentTarget.dataset.id);
        openOrder(id);
      }));
      document.querySelectorAll('[data-add]').forEach(b=> b.addEventListener('click', (e)=> {
        const id = Number(e.currentTarget.dataset.add);
        const p = PRODUCTS.find(x=>x.id===id);
        addToCart(p);
      }));
    }

    renderProducts(PRODUCTS);
    updateCartUI();

    /***********************
     * Modal commande
     ***********************/
    function openOrder(id){
      const p = PRODUCTS.find(x=>x.id===id);
      if(!p) return;
      document.getElementById('order-title').textContent = `Commander — ${p.name}`;
      modalDesc.textContent = p.desc;
      prodNameInput.value = `${p.name} — ${formatPrice(p.price)}`;
      orderModal.classList.add('visible');
      document.body.style.overflow = 'hidden';
      // focus first input
      setTimeout(()=> document.getElementById('cust-name').focus(), 120);
    }

    function closeOrder(){
      orderModal.classList.remove('visible');
      document.body.style.overflow = '';
    }

    document.getElementById('order-cancel').addEventListener('click', closeOrder);
    orderModal.addEventListener('click', (e)=> { if(e.target === orderModal) closeOrder(); });

    orderForm.addEventListener('submit', (e)=>{
      e.preventDefault();
      // validation simple
      const name = document.getElementById('cust-name').value.trim();
      const phone = document.getElementById('cust-phone').value.trim();
      const address = document.getElementById('cust-address').value.trim();
      if(!name || !phone || !address){ alert('Merci de remplir tous les champs de livraison.'); return; }
      // simulate order
      addToCart({ id: Date.now(), name: document.getElementById('prod-name').value, desc:'(Commande directe)', price:0.00 });
      alert(`Merci ${name} ! Ta commande a bien été reçue. Nous te contacterons au numéro fourni.`);
      orderForm.reset();
      closeOrder();
    });

    /***********************
     * Panier (modal)
     ***********************/
    function updateCartUI(){
      cartBtn.textContent = `Panier (${cart.length})`;
      // fill cart modal
      cartItemsEl.innerHTML = '';
      if(cart.length === 0){
        cartItemsEl.innerHTML = '<div style="color:var(--muted)">Ton panier est vide.</div>';
        cartTotalEl.textContent = formatPrice(0);
        return;
      }
      let total = 0;
      cart.forEach((it, idx)=>{
        total += Number(it.price || 0);
        const div = document.createElement('div');
        div.className = 'cart-item';
        div.innerHTML = `<div style="max-width:70%"><strong>${it.name}</strong><div style="color:var(--muted);font-size:13px">${it.desc || ''}</div></div>
                         <div style="text-align:right"><div>${formatPrice(it.price || 0)}</div>
                         <button data-rem="${idx}" style="margin-top:6px;padding:6px 8px;border-radius:8px;border:none;background:#f7f7f7;cursor:pointer">Suppr</button></div>`;
        cartItemsEl.appendChild(div);
      });
      cartTotalEl.textContent = formatPrice(total);
      // remove handlers
      cartItemsEl.querySelectorAll('[data-rem]').forEach(btn => btn.addEventListener('click', (e)=>{
        const idx = Number(e.currentTarget.dataset.rem);
        removeFromCart(idx);
      }));
    }

    cartBtn.addEventListener('click', ()=> {
      cartModal.classList.add('visible');
      document.body.style.overflow = 'hidden';
    });

    document.getElementById('close-cart').addEventListener('click', ()=> {
      cartModal.classList.remove('visible');
      document.body.style.overflow = '';
    });

    cartModal.addEventListener('click', (e)=> { if(e.target === cartModal) { cartModal.classList.remove('visible'); document.body.style.overflow = ''; } });

    checkoutBtn.addEventListener('click', ()=> {
      if(cart.length === 0){ alert('Ton panier est vide.'); return; }
      // go to order modal prefilled with a quick summary
      prodNameInput.value = `Panier (${cart.length} article(s))`;
      modalDesc.textContent = `Total : ${cartTotalEl.textContent}`;
      cartModal.classList.remove('visible');
      orderModal.classList.add('visible');
      document.body.style.overflow = 'hidden';
    });

    /***********************
     * Recherche avec debounce
     ***********************/
    function debounce(fn, wait=300){
      let t;
      return function(...args){ clearTimeout(t); t = setTimeout(()=> fn.apply(this,args), wait); };
    }

    function handleSearch(){
      const q = searchInput.value.trim().toLowerCase();
      if(!q){ renderProducts(PRODUCTS); return; }
      const filtered = PRODUCTS.filter(p => p.name.toLowerCase().includes(q) || p.desc.toLowerCase().includes(q));
      renderProducts(filtered);
    }

    document.getElementById('search-btn').addEventListener('click', handleSearch);
    searchInput.addEventListener('input', debounce(handleSearch, 350));

    /***********************
     * Contact form
     ***********************/
    const contactForm = document.getElementById('contact-form');
    contactForm.addEventListener('submit', (e)=>{
      e.preventDefault();
      const nm = document.getElementById('name').value.trim();
      const em = document.getElementById('email').value.trim();
      const msg = document.getElementById('message').value.trim();
      if(!nm || !em || !msg){ alert('Merci de remplir tous les champs.'); return; }
      // simulate sending
      toast(`Merci ${nm} ! Message reçu.`);
      contactForm.reset();
    });

    /***********************
     * Navigation + mobile menu
     ***********************/
    document.querySelectorAll('nav a, .mobile-nav a').forEach(a=>{
      a.addEventListener('click', (e)=>{
        e.preventDefault();
        const tab = a.dataset.tab;
        document.querySelectorAll('nav a').forEach(n=>n.classList.remove('active'));
        document.querySelector(`nav a[data-tab="${tab}"]`)?.classList.add('active');
        scrollToSection(tab);
        // close mobile nav if open
        mobileNav.classList.remove('show');
      });
    });

    function scrollToSection(id){
      const el = document.getElementById(id);
      if(!el) return;
      el.scrollIntoView({behavior:'smooth',block:'start'});
    }

    mobileNavBtn.addEventListener('click', ()=> {
      mobileNav.classList.toggle('show');
      const shown = mobileNav.classList.contains('show');
      mobileNav.setAttribute('aria-hidden', !shown);
    });

    /***********************
     * Keyboard: Escape closes modals
     ***********************/
    window.addEventListener('keydown', (e)=> {
      if(e.key === 'Escape'){
        if(orderModal.classList.contains('visible')) closeOrder();
        if(cartModal.classList.contains('visible')) { cartModal.classList.remove('visible'); document.body.style.overflow = ''; }
        mobileNav.classList.remove('show');
      }
    });

    /***********************
     * Initialize UI
     ***********************/
    function init(){
      updateCartUI();
    }
    init();

  </script>
</body>
</html>
